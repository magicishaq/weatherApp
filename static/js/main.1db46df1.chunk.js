(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(6),s=n.n(a),i=(n(11),n(12),n(3)),u=n.n(i),o=n(4),l=n(2),j=Object(c.createContext)(["england",function(){}]),d=n(0),p=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),s=Object(l.a)(a,2),i=s[0],p=s[1],h=Object(c.useState)(!1),f=Object(l.a)(h,2),m=f[0],b=f[1],O=Object(c.useContext)(j),x=Object(l.a)(O,2),v=(x[0],x[1]),y=Object(c.useRef)();function g(){return(g=Object(o.a)(u.a.mark((function e(){var t,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://countriesnow.space/api/v0.1/countries",e.next=3,fetch("https://countriesnow.space/api/v0.1/countries");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c=n.data.map((function(e){return e.cities})).flat(),p(c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),y.current>=e.length&&(y.current=0),y.current<0&&(y.current=e.length-1),e[y.current].classList.add("autocomplete-active")}Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){b(!!n)}),[n]);var C=m?i.filter((function(e){return e.toLowerCase().includes(n.toLocaleLowerCase())})):[];function k(e){e.preventDefault(),v(n),b(!1)}return Object(d.jsxs)("form",{autoComplete:"off",onSubmit:k,children:[Object(d.jsxs)("div",{className:"autocomplete",style:{width:"300px"},children:[Object(d.jsx)("input",{id:"myInput",onKeyDown:function(e){var t=document.getElementById("myInput"),c=document.getElementById(t.id+"autocomplete-list");if(!n)return!1;if(c&&(c=c.getElementsByTagName("div")),40==e.keyCode)y.current++,w(c);else if(38==e.keyCode)y.current--,w(c);else if(13==e.keyCode&&(e.preventDefault(),k(e),y.current>-1&&c))try{r(c[y.current].textContent.trim()),setTimeout(b(!1),1)}catch(e){return!1}},onChange:function(e){r(e.target.value),y.current=-1},value:n,placeholder:"Enter a city"}),Object(d.jsx)("div",{id:"myInputautocomplete-list",className:"autocomplete-items",onClick:function(e){r(e.target.textContent.trim()),k(e)},children:C.slice(0,5).map((function(e,t){return Object(d.jsxs)("div",{className:"fList","data-id":t,children:[" ",e," ",Object(d.jsx)("input",{type:"hidden",value:e})," "]},t)}))})]}),Object(d.jsx)("input",{type:"submit"})]})},h=function(e){var t=e.search,n=Object(c.useState)([]),r=Object(l.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)(!1),j=Object(l.a)(i,2),p=j[0],h=j[1];function f(){return(f=Object(o.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"2191268cc6ab9899560808af14219013","metric",e.prev=2,e.next=5,fetch("//api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("2191268cc6ab9899560808af14219013","&units=").concat("metric"));case 5:if(200!==(n=e.sent).status){e.next=13;break}return e.next=9,n.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.abrupt("return",{error:!0});case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",{success:!1,error:e.t0.message});case 19:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){t[0].length>0?function(e){return f.apply(this,arguments)}(t[0]).then((function(e){return s(e)})).then((function(){return h(!0)})).catch((function(e){return h(!1)})):(console.log("empty"),h(!1)),console.log(a)}),[t]),p&&!a.error?Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:["The temperature of ",a.name," is ",a.main.temp,"  degrees celsius"]}),Object(d.jsxs)("li",{children:["Today its : ",a.weather[0].main]}),Object(d.jsxs)("li",{children:[" ",a.weather[0].description," "]}),Object(d.jsxs)("li",{children:[" ",a.main.feels_like," "]}),Object(d.jsxs)("li",{children:[" humidity is : ",a.main.humidity,"  g.m "]}),Object(d.jsxs)("li",{children:[" Minimum temperature is : ",a.main.temp_min,"  degrees celsius "]}),Object(d.jsxs)("li",{children:[" Maximum temperature is : ",a.main.temp_max,"  degrees celsius"]}),Object(d.jsxs)("li",{children:[" The wind speed is: ",a.wind.speed," mph "]})]}):Object(d.jsx)("p",{children:"Search for your weather in any city in the world"})};var f=function(){var e=Object(c.useState)("");return Object(d.jsx)(j.Provider,{value:e,children:Object(d.jsxs)("div",{className:"grid",children:[Object(d.jsx)("header",{className:"heading",children:Object(d.jsx)("h1",{children:" My Weather App "})}),Object(d.jsx)("aside",{className:"searchbar",children:Object(d.jsx)(p,{})}),Object(d.jsx)("article",{className:"results",children:Object(d.jsx)(h,{search:e})}),Object(d.jsx)("footer",{className:"footer",children:"By Ishaq Khan"})]})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.1db46df1.chunk.js.map